---
layout: post
title: "Performance Testing Guidance for Web Applications Chapter 5"
---
<br/>

이 글은 Microsoft의 Performance Testing Guidance for Web Applications 에 대한 글로, **직역과 오역이 다분히 많고, 저의 개인적인 생각을 추가하여 정리한 글** 임을 서두에 밝힙니다.

## Part 6 - Execute Tests

### Chapter 14 - Test Execution
- 성능 테스트의 실행은 스크립트 개발과 테스트 결과보고 분석 사이에 발생하는 활동이다.
- 테스트를 시작하여 기대한 대로 실행되고 있는지 확인하는 것 이상의 것을 다루는 작업이다.

#### 테스트 환경의 검증
- 목표는 테스트 환경에서 프로덕션 환경을 최대한 가깝게 미러링하는 것이다.
- 테스트를 실행하기 전에 테스트 환경이 테스트에 필요한 구성 및 설계와 일치하는지 확인하는 것이 중요하다.
- 다음은 테스트 환경의 유효성을 검증할 때 중요하다.
 - 테스트 환경이 메트릭 수집을 위해 올바르게 구성되었는지 확인해야 한다.
 - 테스트 어플리케이션을 위한 데이터 피드를 만드는 데 많은 시간을 할애해야 한다.
 - 데이터를 읽는 것으로 제한되는 간단한 사용 시나리오를 실행해서 데이터베이스 시나리오의 유효성을 먼저 검사해야 한다.

##### 추가적 고려 사항
- 프로덕션 환경의 DB 서버는 데이터는 별도의 저장소를 사용하고 있다. 부정확한 결과를 피하기 위해 같은 배치 구성을 복제해야 한다.
- DNS가 제대로 구성되지 않은 경우 이름 확인 문제로 인해 연결이 느리게 열릴 수 있다.
- 로드 생성 도구는 특별한 계정을 사용해야 할 수도 있다.

##### 테스트 유효성 검사
- 테스트 디자인 구현
- 동시성: 테스트가 단일 사용자와 함께 실행될 때 설계를 따르는 지를 확인한 후, 여러 사용자와 함께 테스트를 실행해야 한다.
- 여러 테스트들을 함께 실행하면서 의도한 대로 결과를 내는지를 확인해야 한다.
- 데이터의 유효성을 검사해야 한다. 테스트에서 사용하는 데이터 외에도 테스트가 해당 데이터를 활용 및 사용할 수 있으므로 데이터 세트의 오류 가능성을 확인해야 한다.

##### 동적 데이터
- 동일한 데이터 값을 사용하면 시스템이 캐시에서 데이터를 검색하기 때문에 인위적으로 캐싱이 사용된다. 이는 DB, 운영체제 등 여러 계층 전체에서 일어날 수 있다.
- 일부 비즈니스 시나리오세는 매개 변수화 된 항목 수를 제어해야 한다.
- 부하 테스트에서 동적 테스트 데이터를 사용하면 보다 복잡하고 시간에 민감한 버그를 재현하는 경향이 있다.
- 부하 테스트에서 동적 테스트 데이터를 사용하면 적합한 경우 오류 값을 사용할 수 있다.

##### 테스트 유효성 검사
- 단일 사용자만 테스트를 먼저 실행해서, 초기 유효성 검사를 덜 복잡하게 만들어야 한다.
- 테스트를 실행하는 동안 계속 관찰하고, 비정상적인 행동을 찾아내야 한다.
- 사우이 요청이 실패했는지 확인해야 한다.
- 제대로 반환되지 않아도 통과할 수 있으므로 반환 결과를 반드시 확인해야 한다.
- 하나의 테스트가 다른 테스트에서 필요로 하는 데이터를 손상시키지 않도록 하기 위해 다양한 조합으로 테스트를 실행하여 제대로 실행해야 한다.

#### 테스트 실행
- 각 테스트를 실행 한 후 테스트 중에 발생한 문제에 대한 요약을 정리하고, 나중에 볼 수 있도록 로그에 이런 설명을 추가해야 한다.
- 이 주석은 네트워크, 디비, 시스템 등에 대한 로그를 다룰 수 있다.
- 최종 테스트 실행을 완료 한 후 테스트 환경을 해체하기 전에 모든 결과를 저장했는지 확인해야 한다.

#### 기준선의 벤치 마크
- 기준선을 만드는 것은 시스템 또는 어플리케이션의 성능 향상을 위한 후속 변경을 평가할 목적으로 성능 메트릭 데이터를 캡처하기 위해 일련의 테스트를 실행하는 프로세스이다.
- 웹 응용 프로그램과 관련하여 기준선을 사용하여 성능이 향상되고 감소하는지 확인하고, 빌드 및 버전에서 편차를 찾을 수 있다.
- 벤치마킹은 시스템 성능을 다른 조직에서 보증하는 산업 표준과 비교하는 프로세스이다.

#### 아카이브 테스트
- 보관 된 테스트 스크립트, 데이터 결과를 사용하여 다음 저전의 제품에 대한 기준을 만들 수 있다.
