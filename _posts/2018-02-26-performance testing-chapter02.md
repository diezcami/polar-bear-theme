---
layout: post
title: "Performance Testing Guidance for Web Applications Chapter 2"
---
<br/>

이 글은 Microsoft의 Performance Testing Guidance for Web Applications 에 대한 글로, **직역과 오역이 다분히 많고, 저의 개인적인 생각을 추가하여 정리한 글** 임을 서두에 밝힙니다.

## Part 2 - Exemplar Performance Testing Approaches

### Chapter 4 - Web Application Performance Testing Core Activities

 - 성능 테스트는 **일률적으로** 또는 **가장 적합한 방식으로** 적용할 수 없는 복잡한 활동이다. 서비스 별로 공통적으로 수행할 수 있는 작업이 거의 없다.

#### 7가지의 가장 중요한 테스팅 활동

![Image](./assets/chap4.PNG)

##### __Activity 1. Identify the Test Environment__

- 먼저 테스트를 수행하는 환경과 성능 테스트를 실행하는 데에 필요한 도구 및 관련 하드웨어로 **테스트 환경을 구성** 한다.
- 환경 구성이 테스트의 결과에 영향을 끼치는 것은 당연할 뿐더러, 그 환경 자체가 테스트의 목적이 되기도 한다.
 - 새 하드웨어를 적용하는 것이 성능에 얼마나 영향을 끼치는 지를 알아보기 위해 테스트를 진행하기도 한다.
- 테스트 환경 구성의 가장 중요한 것은 **테스트 환경과 실제 환경의 유사점과 차이점에 대한 완벽한 이해** 이다.

###### 고려해야 할 점

- 일반적인 환경과 비슷하게 방화벽, DNS, 라우팅 등이 생성된 로드를 처리하는지 확인해야 한다.
- 로드 밸런서의 구성을 확인해야 한다.
- 테스트를 할 수 있는 통합 지점이 있는지 확인해야 한다.

##### __Activity 2. Identify Performance Acceptance Criteria__

- 테스팅 결과(퍼포먼스)에 대한 수용 기준을 파악해야 한다.
- 수용 기준의 값들로는 응답 시간, 처리량, 자원 활용량 등이 있다.

###### 고려해야 할 점

- 비즈니스적으로 생각해야 한다. 요구사항, 사용자의 기대치, 계약상 의무 등을 파악해야 한다.
- 스트레스 조건, 성과 지표, 최적화 목표 등을 생각해야 한다.

##### __Activity 3. Plan and Design Tests__

- 성능 테스트의 계획과 설계시에는
 - 중요하게 사용될 시나리오를 판별하고
 - 사용자 간의 적절한 변수를 설정하고
 - 테스트 데이터를 식별, 생성하고
 - 수집 할 메트릭을 지정해야 한다.

- 시나리오를 판별 할 때에는
 - 일반적인 시나리오
 - 업무적으로 중요한 시나리오
 - 성능이 집약되어 보여질 수 있는 시나리오
 - 기술 관련된 시나리오
 - 계약한 사람이 제일 관심 있어하는 시나리오
 - 가시성 높은 시나리오를 생각해야 한다.

###### 고려해야 할 점

- 테스트 설계시 이론이나 예측이 아닌 실제 사용에서 기대하는 것을 기반으로 만들어야 한다.
- 현실적인 테스트를 디자인하려면 사람, 네트워크 등 다른 상호 작용 시스템에 민감하게 만들어야 한다.
- 도구가 테스트의 설계에 영향을 미치도록 디자인해야 한다.

##### __Activity 4. Configure the Test Environment__

- 테스트 전 테스트를 위한 도구 및 리소스를 준비하면 수행할 수 있는 테스트의 양이 크게 늘어날 수 있다.
- 항상 발생하는 문제들(IP 스푸핑, 하드웨어 조달, 서버 운영 체제 호환성 문제) 등이 해결되었는지 확인해야 한다.
- 그리고 프로젝트 전체에서 로드 생성 환경 및 도구를 계속해서 업데이트할 계획을 세워야 한다.

###### 고려해야 할 점

- 아무리 상식적으로 보일지라도 데이터가 수집되는 모든 시스템에서 클럭이 동기화되는지 확인해야 한다.
- 병목현상이 일어나기 전까지 생성할 수 있는 로드의 양을 결정해야 한다.
- 서버의 리소스 사용률을 모니터링하여, 로드가 분산되어있는지 확인해야 한다.

##### __Activity 5. Implement the Test Design__

- 사용중인 도구에 관계없이, 성능 테스트를 만드는 것은 일반적으로 단일 시나리오를 스크립팅 한 다음 이를 향상시키는 방향으로 진행되어야 한다.
- 가장 중요한 것은 테스트중인 어플리케이션이 실제 사용자와 시뮬레이션 된 사용자의 차이를 알 수 없도록 실제적인 테스트를 구현하는 것이다.

###### 고려해야 할 점

- 숨겨진 필드 또는 특수 데이터가 올바르게 처리되는지 확인해야 한다. (세션 ID 등)
- 트랜잭션의 유효성 검증이 올바르게 되었는지 확인해야 한다.
- 요청의 응답 시간을 측정하기 위해 테스트 스크립트의 요청 주위에 래퍼를 추가할 수도 있다.
- 테스트의 데이터와 기대치를 비교하여 상당한 가치를 얻을 수 있다.

##### __Activity 6. Execute the Tests__

- 테스트 실행은 다음 작업으로 이루어진다.
  1. 팀에서의 테스트 실행, 모니터링
  2. 테스트, 환경, 데이터의 상태 검증
  3. 테스트의 실행
  4. 테스트가 실행되는 동안 스크립트, 시스템, 데이터를 모니터링, 유효성 검사
  5. 테스트가 완료되면 결함이 있는지 검토
  6. 나중에 테스트를 반복하는 데에 필요한 테스트, 데이터 등의 보관
  7. 시작과 종료 시간, 데이터의 이름 등을 기록하여, 순차적으로 확인할 수 있게 함

- 테스트 실행 준비를 할 때에는 다음과 같은 것을 확인해야 한다.
 - 테스트 환경이 테스트의 설계 환경과 일치하는지 확인
 - 테스트를 실행하기 위해 스모크 테스트를 실행하여 성능 테스트를 실행할 준비가 되어있는지 확인
 - 현재의 주요 성능을 수집하도록 테스트가 구성되었는지 확인

###### 고려해야 할 점

- 데이터 업데이트에 대한 테스트 실행을 검증해야 한다.
- 모든 테스트를 세번씩 실행하자. 반복의 결과가 다르다면 어떤 요인때문인지 확인해야 한다.
- 상승 및 하강 기간을 적절하게 시뮬레이션 해야 한다.
- 문제를 이해하는 데에 진전이 없다고 생각된다면 하나 이상의 변수를 삭제한 다음 다시 테스트를 실행해야 한다.

##### __Activity 7. Analyze Results, Report, Retest__

- 단순히 테스트의 결과뿐만이 아닌, 테스트의 결론을 뒷받침하는 데이터가 필요하다.
- 결과를 얻은 방법에 대한 분석, 비교 및 세부 정보가 필요하다.
- 데이터를 분석할 때에는 다음과 같은 사항을 고려해야 한다.
 - 이터를 개별적으로, 그리고 팀에서 분석해라.
 - 병목현상을 수정하면 테스트를 반복하여 수정 사항의 유효성을 검증해야 한다.
 - 테스트를 마친다면 즉시 결과를 공유하고, 팀 전체에서 데이터를 사용할 수 있게 해야한다.
 - 현재 결과를 사용하여 다음 테스트의 우선 순위를 결정해야 한다.

- 대부분의 보고서는 _기술 보고서_ 혹은 _이해 관계자 보고서_ 중 하나에 속한다.

<br/>
### Chapter 5 - Coordinating Performance Testing with an Iteration-Based Process
